<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TeleFlix - Premium Temp Mail</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Outfit:wght@500;700;800&display=swap"
        rel="stylesheet">
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- CSS -->
    <link rel="stylesheet" href="style.css">
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit"></script>
    <meta name="description" content="Secure, fast, and disposable temporary email service.">
</head>

<body>
    <div class="app-background">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
        <div class="blob blob-3"></div>
    </div>

    <div id="app">
        <!-- Header -->
        <header class="glass-panel header">
            <div class="logo">
                <i class="fa-solid fa-ghost"></i>
                <span>TeleFlix</span>
            </div>
            <div class="header-actions">
                <a href="https://github.com/oshada497/teleflix-email" target="_blank" class="icon-btn"
                    aria-label="GitHub">
                    <i class="fa-brands fa-github"></i>
                </a>
            </div>
        </header>

        <!-- Loading Overlay -->
        <div id="loading" class="hidden">
            <div class="spinner"></div>
        </div>

        <!-- Toast Notifications -->
        <div id="toast-container"></div>

        <!-- Landing Section (Generate Email) -->
        <main id="landing-view" class="container hidden">
            <div class="hero-content">
                <h1 class="hero-title">Privacy made <span class="gradient-text">Beautiful</span></h1>
                <p class="hero-subtitle">Instantly generate secure, disposable email addresses. No spam, no tracking,
                    just privacy.</p>

                <div class="action-card glass-panel">
                    <div class="input-group">
                        <input type="text" id="custom-name" placeholder="Custom name (optional)" class="input-field">
                        <select id="domain-select" class="input-field">
                            <!-- Populated via JS -->
                        </select>
                    </div>
                    <button id="generate-btn" class="btn btn-primary btn-large">
                        <i class="fa-solid fa-wand-magic-sparkles"></i> Create & Launch
                    </button>
                    <div id="turnstile-container"></div>
                </div>
            </div>
        </main>

        <!-- Inbox Section -->
        <main id="inbox-view" class="container hidden">
            <!-- Address Bar -->
            <div class="address-bar glass-panel fade-in">
                <div class="address-info">
                    <span class="label">Your Secure Alias</span>
                    <div class="address-value-wrapper">
                        <h2 id="current-address">...</h2>
                        <button id="copy-btn" class="icon-btn small" title="Copy Address">
                            <i class="fa-regular fa-copy"></i>
                        </button>
                    </div>
                </div>
                <div class="address-actions">
                    <div class="timer-badge" id="refresh-timer" title="Auto-refreshing">
                        <i class="fa-solid fa-arrows-rotate"></i>
                        <span id="timer-count">15s</span>
                    </div>
                    <button id="manual-refresh-btn" class="btn btn-secondary small">
                        <i class="fa-solid fa-rotate-right"></i> Refresh
                    </button>
                    <button id="delete-address-btn" class="btn btn-danger small">
                        <i class="fa-solid fa-trash"></i> Destroy
                    </button>
                </div>
            </div>

            <!-- Inbox Layout -->
            <div class="inbox-layout">
                <!-- Mail List -->
                <div class="mail-list glass-panel fade-in-up">
                    <div class="mail-list-header">
                        <h3>Inbox <span id="mail-count" class="badge">0</span></h3>
                    </div>
                    <div id="mail-list-container" class="custom-scrollbar">
                        <!-- Populated via JS -->
                        <div class="empty-state">
                            <i class="fa-regular fa-envelope-open"></i>
                            <p>Waiting for incoming mails...</p>
                        </div>
                    </div>
                </div>

                <!-- Mail Content (Reader) -->
                <div class="mail-reader glass-panel fade-in-up">
                    <div id="reader-placeholder" class="empty-state">
                        <i class="fa-solid fa-inbox"></i>
                        <p>Select an email to read</p>
                    </div>
                    <div id="reader-content" class="hidden">
                        <div class="reader-header">
                            <div class="reader-meta">
                                <h3 id="mail-subject">Subject</h3>
                                <div class="reader-info">
                                    <span id="mail-from">From: ...</span>
                                    <span id="mail-time">Time</span>
                                </div>
                            </div>
                            <div class="reader-actions">
                                <button id="close-reader-btn" class="icon-btn mobile-only">
                                    <i class="fa-solid fa-arrow-left"></i>
                                </button>
                                <button id="delete-mail-btn" class="btn btn-danger small outline">
                                    <i class="fa-regular fa-trash-can"></i> Delete
                                </button>
                            </div>
                        </div>
                        <div class="reader-body custom-scrollbar">
                            <iframe id="mail-iframe"
                                sandbox="allow-popups allow-popups-to-escape-sandbox allow-same-origin"></iframe>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="app.js"></script>
</body>

</html>